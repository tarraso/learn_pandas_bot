# üöÄ Pyodide Integration

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Python –≤ –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ WebAssembly –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Pyodide
```bash
npm install pyodide
```

### 2. –°–æ–∑–¥–∞–Ω —Ö—É–∫ `usePyodide`
**–§–∞–π–ª:** `webapp/src/hooks/usePyodide.js`

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
- –ó–∞–≥—Ä—É–∑–∫—É Pyodide –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫—É –ø–∞–∫–µ—Ç–æ–≤ pandas –∏ numpy
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Python –∫–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```javascript
const { pyodide, loading, error, loadingPackages, runPython } = usePyodide()

const result = await runPython('import pandas as pd\nprint(pd.__version__)')
// result: { success: true, output: "2.2.0" }
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç CodeChallenge
**–§–∞–π–ª:** `webapp/src/components/CodeChallenge.jsx`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: üöÄ –ë—Ä–∞—É–∑–µ—Ä / üîí –°–µ—Ä–≤–µ—Ä
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ Python –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ pandas/numpy –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤

## –†–µ–∂–∏–º—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üöÄ –ë—Ä–∞—É–∑–µ—Ä (Pyodide)
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)
- üìâ –ù–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- üåê –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚è≥ –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ ~30-40 —Å–µ–∫—É–Ω–¥ (~50MB)
- üê¢ –ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ Python
- üíæ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞–º—è—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ë—ã—Å—Ç—Ä—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã
- –û–±—É—á–∞—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

### üîí –°–µ—Ä–≤–µ—Ä (Django)
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–Ω–∞—Ç–∏–≤–Ω—ã–π Python)
- üîß –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º
- üí™ –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –ø–∞–º—è—Ç–∏

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- üåê –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- üìà –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚è±Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –ë–æ–ª—å—à–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

## –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –≤ Pyodide

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ—Å—Ç—É–ø–Ω—ã:
- `pandas` (2.2.0)
- `numpy` (1.26.0)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `usePyodide.js`:
```javascript
await pyodide.loadPackage(['matplotlib', 'scipy'])
```

–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤: https://pyodide.org/en/stable/usage/packages-in-pyodide.html

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Django —Å–µ—Ä–≤–µ—Ä
```bash
poetry run python manage.py runserver 0.0.0.0:8001
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Vite dev server
```bash
cd webapp
npm run dev
```

### 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:3000
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```python
import pandas as pd
import numpy as np

# –°–æ–∑–¥–∞—Ç—å DataFrame
df = pd.DataFrame({
    'A': [1, 2, 3, 4],
    'B': [10, 20, 30, 40]
})

# –í—ã–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
print(df.describe())

# –í—ã—á–∏—Å–ª–∏—Ç—å —Å—É–º–º—É
print(f"\n–°—É–º–º–∞ —Å—Ç–æ–ª–±—Ü–∞ A: {df['A'].sum()}")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–æ–≤

1. **–†–µ–∂–∏–º "–ë—Ä–∞—É–∑–µ—Ä":**
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —É–≤–∏–¥–∏—Ç–µ "‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ Python –æ–∫—Ä—É–∂–µ–Ω–∏—è..."
   - –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ "‚úÖ Python –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ"
   - –ù–∞–∂–º–∏—Ç–µ "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å" - –∫–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

2. **–†–µ–∂–∏–º "–°–µ—Ä–≤–µ—Ä":**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ "üîí –°–µ—Ä–≤–µ—Ä"
   - –ù–∞–∂–º–∏—Ç–µ "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å" - –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ Django —Å–µ—Ä–≤–µ—Ä

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏)
- Pyodide core: ~7MB
- pandas + numpy: ~45MB
- **–ò—Ç–æ–≥–æ:** ~52MB

### –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫: 30-40 —Å–µ–∫—É–Ω–¥
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º)

### –ü–∞–º—è—Ç—å
- Pyodide runtime: ~100-150MB
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

Pyodide –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º:
- URL: `https://cdn.jsdelivr.net/pyodide/v0.26.4/full/`
- –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: –¥–æ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ë—Ä–∞—É–∑–µ—Ä (Pyodide)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ç–∏
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –ø–∞–º—è—Ç—å—é –±—Ä–∞—É–∑–µ—Ä–∞

### –°–µ—Ä–≤–µ—Ä (Django)
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π namespace (—Ç–æ–ª—å–∫–æ pandas, numpy)
- ‚úÖ Timeout 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∫–æ–¥–∞ 10,000 —Å–∏–º–≤–æ–ª–æ–≤
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é Pyodide
–í `usePyodide.js`:
```javascript
const pyodideInstance = await loadPyodide({
  indexURL: 'https://cdn.jsdelivr.net/pyodide/v0.26.4/full/',
})
```

### –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø–∞–∫–µ—Ç–æ–≤
–í `usePyodide.js`:
```javascript
await pyodide.loadPackage(['pandas', 'numpy', 'matplotlib'])
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–í `CodeChallenge.jsx`:
```javascript
const [executionMode, setExecutionMode] = useState('server') // –∏–ª–∏ 'browser'
```

## Troubleshooting

### "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º "–°–µ—Ä–≤–µ—Ä" –∫–∞–∫ fallback

### Pyodide –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
- –ù–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (~30-40 —Å–µ–∫)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º "–°–µ—Ä–≤–µ—Ä" –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Pyodide –∑–∞–≥—Ä—É–∂–µ–Ω (–∑–µ–ª—ë–Ω—ã–π —Å—Ç–∞—Ç—É—Å)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ pandas/numpy
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –í–∫–ª–∞–¥–∫–∞ –∑–∞–≤–∏—Å–∞–µ—Ç
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏
- –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –≤–∫–ª–∞–¥–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º "–°–µ—Ä–≤–µ—Ä" –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –∑–∞–≥—Ä—É–∂–∞—Ç—å Pyodide —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å"
2. **Service Worker** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
3. **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
4. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –Ω–∞—á–∏–Ω–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤ —Ñ–æ–Ω–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
5. **–í—ã–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤** - –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å, –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. **Matplotlib –≥—Ä–∞—Ñ–∏–∫–∏** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—É—Å–∫–∏
3. **–®–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞** - –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
4. **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–¥ –≤ LocalStorage

## –°—Å—ã–ª–∫–∏

- [Pyodide Documentation](https://pyodide.org/)
- [Pyodide Packages](https://pyodide.org/en/stable/usage/packages-in-pyodide.html)
- [Monaco Editor](https://microsoft.github.io/monaco-editor/)
- [Pandas Documentation](https://pandas.pydata.org/)

---

**–í–µ—Ä—Å–∏—è:** v0.26.4
**Pandas:** v2.2.0
**NumPy:** v1.26.0
